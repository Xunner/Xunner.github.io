(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{2693:function(e,t,a){Promise.resolve().then(a.bind(a,8431))},3934:function(e,t,a){"use strict";a.d(t,{a9:function(){return n},m5:function(){return i},rw:function(){return c},fs:function(){return o},xP:function(){return r}});let n={TT_PIXEL_ID:"CKNOFJ3C77U740699A5G",GTM_ID:"GTM-K9V3TGJ3"},o=(e,t)=>{let a=document.createElement("script");a.src=e,a.onload=a.onreadystatechange=function(){(!this.readyState||"loaded"===this.readyState||"complete"===this.readyState)&&(t&&t(),this.onload=this.onreadystatechange=null,this.parentNode&&this.parentNode.removeChild(this))},document.getElementsByTagName("head")[0].appendChild(a)},r=e=>new Promise((t,a)=>{e.execute(e=>{e.code&&a(e),t(e)})}),i=e=>{window.dataLayer.push({ecommerce:null}),window.gtag("event",e,{transaction_id:"T_12345",value:Math.floor(100*Math.random())+1,currency:"USD",user_data:{email_address:"email@example.com",phone_number:"15551234567",address:{first_name:"John",last_name:"Doe",city:"San Jose",region:"ca",postal_code:"95002",country:"usa"}},items:[{item_id:"SKU_12345",item_name:"Stan and Friends Tee",item_brand:"Google",item_category:"Apparel",price:10.01,quantity:3}]})},c=e=>{window.dataLayer.push({ecommerce:null}),window.dataLayer.push({event:e,user_data:{email_address:"email@example.com",phone_number:"15551234567",address:{first_name:"John",last_name:"Doe",city:"San Jose",region:"ca",postal_code:"95002",country:"usa"}},ecommerce:{transaction_id:"T_12345",value:Math.floor(100*Math.random())+1,currency:"USD",items:[{item_id:"SKU_12345",item_name:"Stan and Friends Tee",item_brand:"Google",item_category:"Apparel",price:10.01,quantity:3}]}})}},8431:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return h}});var n=a(7437),o=a(6691),r=a.n(o),i=a(345),c=a.n(i),s=a(3934),l=a(2265);function d(e){let{href:t,title:a,description:o,onClick:r}=e;return(0,n.jsxs)("a",{href:t,className:c().card,target:"_blank",rel:"noopener noreferrer",onClick:r,children:[(0,n.jsxs)("h2",{children:[a,(0,n.jsx)("span",{children:"->"})]}),(0,n.jsx)("p",{children:o})]})}let u="(not selected)",p="proto-web-container",g=["https://www.googleapis.com/auth/tagmanager.edit.containers","https://www.googleapis.com/auth/tagmanager.edit.containerversions","https://www.googleapis.com/auth/tagmanager.publish"];function m(e){let{pixelId:t}=e,[a,o]=(0,l.useState)(0),[r,i]=(0,l.useState)([]),[m,h]=(0,l.useState)([]),[_,w]=(0,l.useState)([]),[x,v]=(0,l.useState)([]),[f,j]=(0,l.useState)(!1),[b,y]=(0,l.useState)(!1),[N,C]=(0,l.useState)({label:u,value:u}),[T,k]=(0,l.useState)({label:u,value:u}),[S,L]=(0,l.useState)({label:u,value:u});(0,l.useEffect)(()=>{window.gapiLoad||(window.gapiLoad=P,(0,s.fs)("https://apis.google.com/js/api.js?onload=gapiLoad",window.gapiLoad)),window.gisLoad||(window.gisLoad=G,(0,s.fs)("https://accounts.google.com/gsi/client",window.gisLoad))},[]),(0,l.useEffect)(()=>{f&&b&&a>0&&(window.gisClient.callback=e=>{if(void 0!==e.error)throw e;q()},O())},[f,b,a]);let P=()=>{window.gapi&&window.gapi.load("client",()=>{window.gapi.client.init({}).then(()=>{j(!0)})})},G=()=>{window.google&&(window.gisClient=window.google.accounts.oauth2.initTokenClient({client_id:"289624798328-aqa97i679hubilrdvjubuundcqvot92g.apps.googleusercontent.com",scope:g.join(" "),callback:""}),y(!0))},O=()=>{window.gisClient&&window.gisClient.requestAccessToken({prompt:""})},A=()=>new Promise((e,t)=>{window.gapi.client.load("tagmanager","v2",e)}),E=async()=>new Promise((e,t)=>{M().then(U).then(D).then(I)}),M=()=>{let e=window.gapi.client.tagmanager.accounts.list();return(0,s.xP)(e).then(e=>{let t=e.account||[];if(!t.length){console.error("NO_GTM_ACCOUNT");return}console.info("accountList=",t),i(t.map(e=>({label:e.name,value:e.path})));let a=t[0]?t[0].path:"";if(!a){console.error("NO_ACCOUNT_PATH");return}return a}).catch(e=>{console.error(e)})},U=e=>{let t=window.gapi.client.tagmanager.accounts.containers.list({parent:e});return(0,s.xP)(t).then(e=>{let t=e.container||[];console.info("containerList=",t),h(t.map(e=>({label:e.name,value:e.path})));let a=t[0]?t[0].path:"";if(!a){console.error("NO_CONTAINER_PATH");return}return a}).catch(e=>{console.error(e)})},D=e=>{let t=window.gapi.client.tagmanager.accounts.containers.workspaces.list({parent:e});return(0,s.xP)(t).then(e=>{let t=e.workspace||[];console.info("workspaceList=",t),w(t.map(e=>({label:e.name,value:e.path})));let a=t[0]?t[0].path:"";if(!a){console.error("NO_WORKSPACE_PATH");return}return a}).catch(e=>{console.error(e)})},I=e=>{let t=window.gapi.client.tagmanager.accounts.containers.workspaces.tags.list({parent:e});return(0,s.xP)(t).then(e=>{let t=e.tag||[];return console.info("tagList=",t),v(t.map(e=>({label:e.name,value:e.path}))),t}).catch(e=>{console.error(e)})},q=()=>{A().then(E).catch(e=>{console.error(e)})},J=e=>{C(e),U(e.value).then(D).then(I)},K=e=>{k(e),D(e.value).then(I)},H=e=>{L(e),I(e.value)};return(0,n.jsxs)("div",{className:c().gtm_connection,children:[(0,n.jsx)("div",{children:(0,n.jsxs)("p",{className:c().center_text,children:["Select account: ",(0,n.jsx)("code",{className:c().code,children:N.label}),(0,n.jsx)("br",{}),"Select container: ",(0,n.jsx)("code",{className:c().code,children:T.label}),(0,n.jsx)("br",{}),"Select workspace: ",(0,n.jsx)("code",{className:c().code,children:S.label}),(0,n.jsx)("br",{})]})}),(0,n.jsxs)("div",{className:c().grid,children:[(0,n.jsx)(d,{title:"Login Google",description:"Login Google account to manage Google Tag Manager.",onClick:()=>{o(e=>e+1)}}),(0,n.jsx)(d,{title:"Create Container",description:'Create a web container "'.concat(p,'" in selected GTM account.'),onClick:()=>{if((0,s.m5)("view_content"),N.value==u)return;let e=window.gapi.client.tagmanager.accounts.containers.create({parent:N.value},{name:p,usageContext:["web"],description:"Proto Web container"});return(0,s.xP)(e).then(e=>{console.info("create container response:",e),U(N.value)}).catch(e=>{console.error(e)})}}),(0,n.jsx)(d,{title:"Create Tags",description:"Create all the tags in selected GTM account.",onClick:()=>{if((0,s.rw)("add_to_cart"),T.value==u)return;let e=window.gapi.client.tagmanager.accounts.containers.workspaces.tags.create({parent:S.value},{name:"proto-web-container-tag",type:"cvt_171648748_6",parameter:[{key:"pixel_code",type:"template",value:t}]});return(0,s.xP)(e).then(e=>{console.info("create container response:",e),I(S.value)}).catch(e=>{console.error(e)})}})]}),(0,n.jsx)("p",{style:{display:r.length>0?"":"none"},children:"Accounts:"}),(0,n.jsx)("div",{className:c().grid,children:r.map(e=>(0,n.jsx)(d,{title:e.label,description:e.value,onClick:()=>J(e)},e.value))}),(0,n.jsx)("p",{style:{display:m.length>0?"":"none"},children:"Containers:"}),(0,n.jsx)("div",{className:c().grid,children:m.map(e=>(0,n.jsx)(d,{title:e.label,description:e.value,onClick:()=>K(e)},e.value))}),(0,n.jsx)("p",{style:{display:_.length>0?"":"none"},children:"Workspaces:"}),(0,n.jsx)("div",{className:c().grid,children:_.map(e=>(0,n.jsx)(d,{title:e.label,description:e.value,onClick:()=>H(e)},e.value))}),(0,n.jsx)("p",{style:{display:x.length>0?"":"none"},children:"Tags:"}),(0,n.jsx)("div",{className:c().grid,children:x.map(e=>(0,n.jsx)(d,{title:e.label,description:e.value},e.value))})]})}function h(){let[e,t]=(0,l.useState)(s.a9.TT_PIXEL_ID);return(0,n.jsxs)("main",{className:c().main,children:[(0,n.jsxs)("div",{className:c().description,children:[(0,n.jsxs)("p",{children:["Pixel \xa0",(0,n.jsx)("code",{className:c().code,children:e})]}),(0,n.jsx)("div",{children:(0,n.jsxs)("a",{href:"https://vercel.com?utm_source=create-next-app&utm_medium=appdir-template&utm_campaign=create-next-app",target:"_blank",rel:"noopener noreferrer",children:["By"," ",(0,n.jsx)(r(),{src:"/vercel.svg",alt:"Vercel Logo",className:c().vercelLogo,width:100,height:24,priority:!0})]})})]}),(0,n.jsx)("div",{className:c().center,children:(0,n.jsx)(r(),{className:c().logo,src:"/next.svg",alt:"Next.js Logo",width:180,height:37,priority:!0})}),(0,n.jsx)(m,{pixelId:e})]})}},345:function(e){e.exports={main:"page_main__GlU4n",gtm_connection:"page_gtm_connection__pCqu7",center_text:"page_center_text__TiXxN",description:"page_description__86bsR",code:"page_code__9lUUd",grid:"page_grid__f5Kdy",card:"page_card__QV0Om",center:"page_center__5oHG7",logo:"page_logo__7fc9l",content:"page_content__kDoxQ",vercelLogo:"page_vercelLogo__rOY_u",rotate:"page_rotate__durgN"}}},function(e){e.O(0,[986,971,938,744],function(){return e(e.s=2693)}),_N_E=e.O()}]);