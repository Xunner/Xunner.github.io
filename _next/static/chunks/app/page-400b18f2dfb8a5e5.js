(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{2693:function(e,t,a){Promise.resolve().then(a.bind(a,1471))},1471:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return h}});var n=a(7437),o=a(6691),i=a.n(o),l=a(345),s=a.n(l),c=a(2265);let r=(e,t)=>{let a=document.createElement("script");a.src=e,a.onload=a.onreadystatechange=function(){(!this.readyState||"loaded"===this.readyState||"complete"===this.readyState)&&(t&&t(),this.onload=this.onreadystatechange=null,this.parentNode&&this.parentNode.removeChild(this))},document.getElementsByTagName("head")[0].appendChild(a)},d=e=>new Promise((t,a)=>{e.execute(e=>{e.code&&a(e),t(e)})});function g(e){let{href:t,title:a,description:o,onClick:i}=e;return(0,n.jsxs)("a",{href:t,className:s().card,target:"_blank",rel:"noopener noreferrer",onClick:i,children:[(0,n.jsxs)("h2",{children:[a,(0,n.jsx)("span",{children:"->"})]}),(0,n.jsx)("p",{children:o})]})}let p=["https://www.googleapis.com/auth/tagmanager.edit.containers","https://www.googleapis.com/auth/tagmanager.edit.containerversions","https://www.googleapis.com/auth/tagmanager.publish"];function u(e){let{pixelId:t}=e,[a,o]=(0,c.useState)(0),[i,l]=(0,c.useState)([]),[u,h]=(0,c.useState)([]),[m,w]=(0,c.useState)([]),[_,x]=(0,c.useState)(!1),[v,f]=(0,c.useState)(!1),[j,N]=(0,c.useState)({label:"(not selected)",value:"(not selected)"}),[b,C]=(0,c.useState)({label:"(not selected)",value:"(not selected)"}),[k,L]=(0,c.useState)({label:"(not selected)",value:"(not selected)"});(0,c.useEffect)(()=>{window.gapiLoad||(window.gapiLoad=S,r("https://apis.google.com/js/api.js?onload=gapiLoad",window.gapiLoad)),window.gisLoad||(window.gisLoad=O,r("https://accounts.google.com/gsi/client",window.gisLoad))},[]),(0,c.useEffect)(()=>{_&&v&&a>0&&(window.gisClient.callback=e=>{if(void 0!==e.error)throw e;U()},T())},[_,v,a]);let S=()=>{window.gapi&&window.gapi.load("client",()=>{window.gapi.client.init({}).then(()=>{x(!0)})})},O=()=>{window.google&&(window.gisClient=window.google.accounts.oauth2.initTokenClient({client_id:"289624798328-aqa97i679hubilrdvjubuundcqvot92g.apps.googleusercontent.com",scope:p.join(" "),callback:""}),f(!0))},T=()=>{window.gisClient&&window.gisClient.requestAccessToken({prompt:""})},y=()=>new Promise((e,t)=>{window.gapi.client.load("tagmanager","v2",e)}),E=async()=>new Promise((e,t)=>{P().then(A).then(G)}),P=()=>d(window.gapi.client.tagmanager.accounts.list()).then(e=>{let t=e.account||[];if(!t.length){console.error("NO_GTM_ACCOUNT");return}console.info("accountList=",t),l(t.map(e=>({label:e.name,value:e.path})));let a=t[0]?t[0].path:"";if(!a){console.error("NO_ACCOUNT_PATH");return}return a}).catch(e=>{console.error(e)}),A=e=>d(window.gapi.client.tagmanager.accounts.containers.list({parent:e})).then(e=>{let t=e.container||[];console.info("containerList=",t),h(t.map(e=>({label:e.name,value:e.path})));let a=t[0]?t[0].path:"";if(!a){console.error("NO_CONTAINER_PATH");return}return a}).catch(e=>{console.error(e)}),G=e=>d(window.gapi.client.tagmanager.accounts.containers.workspaces.list({parent:e})).then(e=>{let t=e.workspace||[];console.info("workspaceList=",t),w(t.map(e=>({label:e.name,value:e.path})));let a=t[0]?t[0].path:"";if(!a){console.error("NO_WORKSPACE_PATH");return}return a}).catch(e=>{console.error(e)}),U=()=>{y().then(E).catch(e=>{console.error(e)})};return(0,n.jsxs)("div",{className:s().main,children:[(0,n.jsxs)("a",{children:[(0,n.jsxs)("h2",{children:["Select account: ",j.label]}),(0,n.jsxs)("h2",{children:["Select container: ",b.label]}),(0,n.jsxs)("h2",{children:["Select workspace: ",k.label]})]}),(0,n.jsx)("div",{className:s().grid,children:(0,n.jsx)(g,{title:"Login Google",description:"Login Google account to manage Google Tag Manager.",onClick:()=>{o(e=>e+1),console.info("clickLoginGoogle: ",a)}})}),(0,n.jsx)("div",{className:s().grid,children:i.map(e=>(0,n.jsx)(g,{title:e.label,description:e.value,onClick:()=>N(e)},e.value))}),(0,n.jsx)("div",{className:s().grid,children:u.map(e=>(0,n.jsx)(g,{title:e.label,description:e.value,onClick:()=>C(e)},e.value))}),(0,n.jsx)("div",{className:s().grid,children:m.map(e=>(0,n.jsx)(g,{title:e.label,description:e.value,onClick:()=>L(e)},e.value))})]})}function h(){let[e,t]=(0,c.useState)("CL9M2I3C77U1T02D97SG");return(0,n.jsxs)("main",{className:s().main,children:[(0,n.jsxs)("div",{className:s().description,children:[(0,n.jsxs)("p",{children:["Pixel \xa0",(0,n.jsx)("code",{className:s().code,children:e})]}),(0,n.jsx)("div",{children:(0,n.jsxs)("a",{href:"https://vercel.com?utm_source=create-next-app&utm_medium=appdir-template&utm_campaign=create-next-app",target:"_blank",rel:"noopener noreferrer",children:["By"," ",(0,n.jsx)(i(),{src:"/vercel.svg",alt:"Vercel Logo",className:s().vercelLogo,width:100,height:24,priority:!0})]})})]}),(0,n.jsx)("div",{className:s().center,children:(0,n.jsx)(i(),{className:s().logo,src:"/next.svg",alt:"Next.js Logo",width:180,height:37,priority:!0})}),(0,n.jsx)(u,{pixelId:e})]})}},345:function(e){e.exports={main:"page_main__GlU4n",description:"page_description__86bsR",code:"page_code__9lUUd",grid:"page_grid__f5Kdy",card:"page_card__QV0Om",center:"page_center__5oHG7",logo:"page_logo__7fc9l",content:"page_content__kDoxQ",vercelLogo:"page_vercelLogo__rOY_u",rotate:"page_rotate__durgN"}}},function(e){e.O(0,[986,971,938,744],function(){return e(e.s=2693)}),_N_E=e.O()}]);